This code is mainly from my latest 2 projects.
Some of the code is someone elses (like the reusable state machine).
Some of the code is incomplete and other extremely buggy.